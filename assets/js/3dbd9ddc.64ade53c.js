"use strict";(self.webpackChunk_mondrian_framework_docs=self.webpackChunk_mondrian_framework_docs||[]).push([[47],{876:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(2784);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=a,f=m["".concat(l,".").concat(u)]||m[u]||c[u]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2302:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=n(7896),a=(n(2784),n(876));const o={sidebar_position:3},i="Model",s={unversionedId:"docs/model/index",id:"docs/model/index",title:"Model",description:"The first and fundamental feature of Mondrian Framework is the ability to define the schema of a data model. This definition is a requirement to enable data translation into any current and future representations. Having a detailed data model in a formal language is a powerful tool in itself to ensure interoperability and longevity.",source:"@site/docs/docs/model/index.md",sourceDirName:"docs/model",slug:"/docs/model/",permalink:"/mondrian-framework/docs/docs/model/",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Getting started",permalink:"/mondrian-framework/docs/docs/getting-started"},next:{title:"Definition",permalink:"/mondrian-framework/docs/docs/model/definition"}},l={},d=[{value:"Example",id:"example",level:2},{value:"TypeScript support",id:"typescript-support",level:2}],p={toc:d},m="wrapper";function c(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"model"},"Model"),(0,a.kt)("p",null,"The first and fundamental feature of Mondrian Framework is the ability to define the ",(0,a.kt)("strong",null,"schema")," of a data model. This definition is a requirement to enable data translation into any current and future representations. Having a detailed data model in a formal language is a powerful tool in itself to ensure interoperability and longevity."),(0,a.kt)("p",null,"The approach through schema definition entails that the developer does not directly write the types representing their data model, but instead starts with defining the schema, which can contain additional information beyond what is supported by the target programming language, such as validation rules as an example. TypeScript types are then automatically inferred by the framework from the schema and provided to the user, ready to use."),(0,a.kt)("p",null,"Mondrian Framework takes inspiration from various libraries for declaring and validating data models, such as ",(0,a.kt)("a",{parentName:"p",href:"https://zod.dev/"},"Zod"),", ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/gcanti/io-ts"},"io-ts"),", ",(0,a.kt)("a",{parentName:"p",href:"https://ajv.js.org/"},"Ajv"),", ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/sinclairzx81/typebox"},"typebox"),", ",(0,a.kt)("a",{parentName:"p",href:"https://typia.io/"},"typia")," and many others. It tries to combine their expressiveness, speed, and ease of use adding features not only to declare and validate a schema, but also to easily visit, process it and work with data projections."),(0,a.kt)("p",null,"Basically a model schema:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Represents an entity of the application domain, in terms of data type, encoding, decoding and validation rules."),(0,a.kt)("li",{parentName:"ul"},"Is defined using a collection of convenient framework functions to declare fields and their attributes."),(0,a.kt)("li",{parentName:"ul"},"Provides generated TypeScript type definition.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)("p",null,"The following schema describes a blogging platform:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:"showLineNumbers",showLineNumbers:!0},"import m from '@mondrian-framework/model'\n\nconst User = m.object({\n  id: m.integer(),\n  name: m.string().optional(),\n  email: m.string({ format: 'email' }),\n  address: Address.optional(),\n  posts: m.reference(Post.array().optional()),\n})\ntype User = m.Infer<typeof User>\n\nconst Address = m.object({\n  street: m.string().optional(),\n  city: m.string().optional(),\n  zipcode: m.string().optional(),\n  district: m.string().optional(),\n  country: m.string(),\n})\ntype Address = m.Infer<typeof Address>\n\nconst Post = m.object({\n  id: m.integer(),\n  createdAt: m.date(),\n  updatedAt: m.date(),\n  title: m.string({ maxLength: 200 }),\n  content: t.string({ maxLength: 5000 }).optional(),\n  author: m.reference(User),\n})\ntype Post = m.Infer<typeof Post>\n")),(0,a.kt)("h2",{id:"typescript-support"},"TypeScript support"),(0,a.kt)("p",null,"Mondrian Framework is entirely written in TypeScript. The use of typing greatly reduces the error rate and allows for increased productivity thanks to seamless integration with modern IDEs that provide powerful autocomplete features."),(0,a.kt)("p",null,"As shown in the previous example, by importing the ",(0,a.kt)("inlineCode",{parentName:"p"},"@mondrian-framework/model")," module, we have access to a wide range of functions suggested by the IDE, enabling us to describe a model."),(0,a.kt)("p",null,"Furthermore, through the use of constructs such as conditional types and mapped types, it is possible to automatically generate the TypeScript type of a model based on its schema. As demonstrated in the example, it is sufficient to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Infer")," utility type."))}c.isMDXComponent=!0}}]);